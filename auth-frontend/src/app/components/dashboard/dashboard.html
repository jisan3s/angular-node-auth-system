<div class="p-4 w-50 mx-auto">
    <h2 class="mb-4">
        Dashboard (Protected)
    </h2>
    <button (click)="logout()" class="btn btn-danger">
        Logout
    </button>
    @if (isLoadingData) {
    <div class="d-flex align-items-center gap-2 mt-4">
        <div class="spinner-border spinner-border-sm text-primary" role="status"></div>
        <span>Loading users...</span>
    </div>
    } @else {
    <ul class="list-group mt-4">
        @for (user of users; track user._id) {
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <span>{{ user.name }} - {{ user.email }}</span>
            <button (click)="deleteUser(user._id)" class="btn btn-sm btn-outline-danger"
                [disabled]="user._id !== currentUserId">
                Delete
            </button>
        </li>
        } @empty {
        <li class="list-group-item text-muted text-center">No users registered yet.</li>
        }
    </ul>
    }
</div>